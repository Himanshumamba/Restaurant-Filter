<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

<h1> Restaurant Services </h1>

<label for="search">Search By Name</label>

<input type="text"  id = "search" onkeyup="searchRestaurants()">
<select id="sort" onchange="sortRestaurant()">
    <option value ="rating">Sort By Raitings</option>
    <option value ="distance">Sort By distance</option>
</select>
<div id ="results">

</div>
<script>


const restaurants= [

{name:'restaurantsA',rating:4.5,distance:2.3},

{name:'restaurantsB',rating:5.0,distance:1.3},

{name:'restaurantsC',rating:4.2,distance:3.3},

{name:'restaurantsD',rating:4.7,distance:1.8},

{name:'restaurantsE',rating:3.1,distance:3.5},

]


function displayResult(results){
    const resultDiv = document.getElementById("results");
    resultDiv.innerHTML = "";
    results.forEach(restaurant => {
        const restaurantDiv = document.createElement("div");
        restaurantDiv.textContent= `${restaurant.name} - Raiting : ${restaurant.rating}Distance-${restaurant.distance}`;

        resultDiv.appendChild(restaurantDiv);
        
    });
}


function searchRestaurants(){
    const searchKey = document.getElementById("search").value.toLowerCase();
    const filterRestaurants = restaurants.filter(restaurant =>restaurant.name.toLowerCase().includes(searchKey));
    displayResult(filterRestaurants);

}

function  sortRestaurant(){
    const sortBy = document.getElementById("sort").value;
    let sortedRestaurants = [];
    if(sortBy === "rating"){
        sortedRestaurants= restaurants.sort((a,b)=>a.rating- b.rating);

    }else if(sortBy ==="distance"){
        sortedRestaurants= restaurants.sort((a,b)=>a.distance - b.distance);
    }
    displayResult(sortedRestaurants);
}


displayResult(restaurants);
</script>

</body>
</html>